{{> layout/header}}

<main class="profile-container" data-user-id="{{userInfo.user.userId}}">
    <section class="profile-header">
        {{#userInfo.user}}
            <div class="profile-image">
                <img src="/images/person.jpeg" alt="{{username}}의 프로필 이미지">
            </div>
            <div class="profile-info">
                <h1 class="profile-username">{{username}}</h1>
                <div class="profile-stats">
                    <span id="followerCount" style="cursor: pointer;">Follower <strong>{{#userInfo}}{{followerCnt}}{{/userInfo}}</strong></span>
                    <span id="followingCount" style="cursor: pointer;">Following <strong>{{#userInfo}}{{followingCnt}}{{/userInfo}}</strong></span>
                </div>
                <p class="profile-fullname">{{nickname}}</p>
                <p class="profile-bio"></p>
                {{#userInfo.isOwner}}
                    <button class="profile-edit-btn">프로필 편집</button>
                    <button class="profile-logout-btn" onclick="location.href='/logout'">로그아웃</button>
                {{/userInfo.isOwner}}
                {{^userInfo.isOwner}}
                    <button class="profile-follow-btn" id="followBtn">팔로우</button>
                    <button class="profile-unfollow-btn" id="unfollowBtn" style="display: none;">언팔로우</button>
                {{/userInfo.isOwner}}
            </div>
        {{/userInfo.user}}
    </section>

    <!-- 팔로워 모달 시작 -->
    <div id="followerModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>팔로워</h2>
            <ul id="followerList"></ul>
        </div>
    </div>
    <!-- 팔로워 모달 끝 -->

    <!-- following 모달창 시작 -->
    <div id="followingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>팔로잉</h2>
            <ul id="followingList"></ul>
        </div>
    </div>
    <!-- following 모달창 끝 -->

    <nav class="profile-nav">
        <a href="#" class="active">게시물</a>
        <a href="#">보관됨</a>
        <a href="#">태그됨</a>
    </nav>

    <!--<section class="profile-posts-grid">
        {{#posts}}
            <div class="profile-post-item">
                <img src="{{imageUrl}}" alt="게시물 이미지">
                <div class="profile-post-overlay">
                    <span><i class="fas fa-heart"></i> {{likeCount}}</span>
                    <span><i class="fas fa-comment"></i> {{commentCount}}</span>
                </div>
            </div>
        {{/posts}}
    </section>-->
</main>

{{> layout/footer}}

<script src="/js/profile.js"></script>